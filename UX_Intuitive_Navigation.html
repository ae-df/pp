<!--
  UX INTUITIVE NAVIGATION - UNIAE
  Navega√ß√£o intuitiva e feedback visual aprimorado
  
  Inclua: <?!= include('UX_Intuitive_Navigation'); ?>
  
  ‚úÖ Breadcrumbs inteligentes
  ‚úÖ Navega√ß√£o por tabs fluida
  ‚úÖ Indicadores de status claros
  ‚úÖ Tooltips informativos
  ‚úÖ Anima√ß√µes suaves
-->

<style>
/* ========================================
   BREADCRUMBS INTELIGENTES
   ======================================== */
.breadcrumbs {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 0;
  font-size: 14px;
  flex-wrap: wrap;
}

.breadcrumb-item {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--gray-500, #6b7280);
  text-decoration: none;
  transition: color 0.15s;
}

.breadcrumb-item:hover {
  color: var(--primary, #667eea);
}

.breadcrumb-item.current {
  color: var(--gray-900, #1f2937);
  font-weight: 500;
  pointer-events: none;
}

.breadcrumb-separator {
  color: var(--gray-300, #d1d5db);
  font-size: 12px;
}

.breadcrumb-icon {
  font-size: 16px;
}
</style>
<st
yle>
/* ========================================
   TABS FLUIDAS
   ======================================== */
.fluid-tabs {
  display: flex;
  background: var(--gray-100, #f3f4f6);
  border-radius: 12px;
  padding: 4px;
  gap: 4px;
  position: relative;
}

.fluid-tab {
  flex: 1;
  padding: 10px 16px;
  background: transparent;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  color: var(--gray-600, #4b5563);
  cursor: pointer;
  transition: color 0.2s;
  position: relative;
  z-index: 1;
}

.fluid-tab:hover {
  color: var(--gray-900, #1f2937);
}

.fluid-tab.active {
  color: var(--primary, #667eea);
}

.fluid-tab-indicator {
  position: absolute;
  top: 4px;
  bottom: 4px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  transition: left 0.25s cubic-bezier(0.4, 0, 0.2, 1), width 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 0;
}

/* Tabs com √≠cones */
.fluid-tab-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.fluid-tab-badge {
  background: var(--error, #ef4444);
  color: white;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 10px;
  min-width: 18px;
}

/* ========================================
   STATUS INDICATORS
   ======================================== */
.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
}

.status-dot.success { background: var(--success, #10b981); }
.status-dot.warning { background: var(--warning, #f59e0b); }
.status-dot.error { background: var(--error, #ef4444); }
.status-dot.info { background: var(--info, #3b82f6); }
.status-dot.neutral { background: var(--gray-400, #9ca3af); }

.status-dot.pulse {
  animation: status-pulse 2s infinite;
}

@keyframes status-pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.2); }
}

.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
}

.status-badge.success {
  background: var(--success-light, #d1fae5);
  color: var(--success-dark, #065f46);
}

.status-badge.warning {
  background: var(--warning-light, #fef3c7);
  color: var(--warning-dark, #92400e);
}

.status-badge.error {
  background: var(--error-light, #fee2e2);
  color: var(--error-dark, #991b1b);
}

.status-badge.info {
  background: var(--info-light, #dbeafe);
  color: var(--info-dark, #1e40af);
}

.status-badge.neutral {
  background: var(--gray-100, #f3f4f6);
  color: var(--gray-600, #4b5563);
}

/* ========================================
   TOOLTIPS INFORMATIVOS
   ======================================== */
[data-tooltip] {
  position: relative;
  cursor: help;
}

[data-tooltip]::before,
[data-tooltip]::after {
  position: absolute;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s, visibility 0.2s, transform 0.2s;
  z-index: 1000;
  pointer-events: none;
}

[data-tooltip]::before {
  content: attr(data-tooltip);
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%) translateY(4px);
  padding: 8px 12px;
  background: var(--gray-900, #1f2937);
  color: white;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  white-space: nowrap;
  max-width: 250px;
}

[data-tooltip]::after {
  content: '';
  bottom: calc(100% + 2px);
  left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: var(--gray-900, #1f2937);
}

[data-tooltip]:hover::before,
[data-tooltip]:hover::after {
  opacity: 1;
  visibility: visible;
}

[data-tooltip]:hover::before {
  transform: translateX(-50%) translateY(0);
}

/* Tooltip posi√ß√µes */
[data-tooltip-pos="bottom"]::before {
  bottom: auto;
  top: calc(100% + 8px);
  transform: translateX(-50%) translateY(-4px);
}

[data-tooltip-pos="bottom"]::after {
  bottom: auto;
  top: calc(100% + 2px);
  border-top-color: transparent;
  border-bottom-color: var(--gray-900, #1f2937);
}

[data-tooltip-pos="bottom"]:hover::before {
  transform: translateX(-50%) translateY(0);
}

/* ========================================
   STEP INDICATOR COMPACTO
   ======================================== */
.steps-compact {
  display: flex;
  align-items: center;
  gap: 0;
}

.step-compact {
  display: flex;
  align-items: center;
}

.step-compact-circle {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--gray-200, #e5e7eb);
  color: var(--gray-500, #6b7280);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  transition: all 0.2s;
}

.step-compact.completed .step-compact-circle {
  background: var(--success, #10b981);
  color: white;
}

.step-compact.active .step-compact-circle {
  background: var(--primary, #667eea);
  color: white;
  box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);
}

.step-compact-line {
  width: 40px;
  height: 2px;
  background: var(--gray-200, #e5e7eb);
  transition: background 0.2s;
}

.step-compact.completed + .step-compact .step-compact-line,
.step-compact.completed .step-compact-line {
  background: var(--success, #10b981);
}

/* ========================================
   CARD NAVIGATION
   ======================================== */
.nav-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.nav-card {
  background: white;
  border: 2px solid var(--gray-100, #f3f4f6);
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  color: inherit;
}

.nav-card:hover {
  border-color: var(--primary, #667eea);
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.nav-card-icon {
  width: 44px;
  height: 44px;
  border-radius: 10px;
  background: var(--gray-100, #f3f4f6);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  margin-bottom: 12px;
  transition: all 0.2s;
}

.nav-card:hover .nav-card-icon {
  background: var(--primary-light, rgba(102, 126, 234, 0.1));
}

.nav-card-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--gray-900, #1f2937);
  margin-bottom: 4px;
}

.nav-card-desc {
  font-size: 13px;
  color: var(--gray-500, #6b7280);
}

.nav-card-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  background: var(--error, #ef4444);
  color: white;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 10px;
}

/* ========================================
   SIDEBAR NAVIGATION
   ======================================== */
.sidebar-nav {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.sidebar-nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 10px;
  color: var(--gray-600, #4b5563);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.15s;
}

.sidebar-nav-item:hover {
  background: var(--gray-100, #f3f4f6);
  color: var(--gray-900, #1f2937);
}

.sidebar-nav-item.active {
  background: var(--primary-light, rgba(102, 126, 234, 0.1));
  color: var(--primary, #667eea);
}

.sidebar-nav-item .icon {
  font-size: 18px;
  width: 24px;
  text-align: center;
}

.sidebar-nav-item .badge {
  margin-left: auto;
  background: var(--error, #ef4444);
  color: white;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 10px;
}

.sidebar-nav-divider {
  height: 1px;
  background: var(--gray-100, #f3f4f6);
  margin: 8px 0;
}

.sidebar-nav-label {
  padding: 8px 16px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--gray-400, #9ca3af);
}

/* ========================================
   PAGINATION SIMPLES
   ======================================== */
.pagination {
  display: flex;
  align-items: center;
  gap: 4px;
}

.pagination-btn {
  min-width: 36px;
  height: 36px;
  border: none;
  background: transparent;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  color: var(--gray-600, #4b5563);
  cursor: pointer;
  transition: all 0.15s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.pagination-btn:hover:not(:disabled) {
  background: var(--gray-100, #f3f4f6);
}

.pagination-btn.active {
  background: var(--primary, #667eea);
  color: white;
}

.pagination-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.pagination-info {
  padding: 0 12px;
  font-size: 13px;
  color: var(--gray-500, #6b7280);
}

/* ========================================
   ANIMA√á√ïES DE TRANSI√á√ÉO
   ======================================== */
.fade-in {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.slide-up {
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.scale-in {
  animation: scaleIn 0.2s ease;
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

/* ========================================
   EMPTY STATE AMIG√ÅVEL
   ======================================== */
.empty-friendly {
  text-align: center;
  padding: 48px 24px;
}

.empty-friendly-icon {
  font-size: 56px;
  margin-bottom: 16px;
  opacity: 0.8;
}

.empty-friendly-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--gray-900, #1f2937);
  margin-bottom: 8px;
}

.empty-friendly-text {
  font-size: 14px;
  color: var(--gray-500, #6b7280);
  margin-bottom: 20px;
  max-width: 320px;
  margin-left: auto;
  margin-right: auto;
}

.empty-friendly-action {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 24px;
  background: var(--primary, #667eea);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.empty-friendly-action:hover {
  background: var(--primary-dark, #5a67d8);
  transform: translateY(-2px);
}

/* ========================================
   MOBILE-FIRST RESPONSIVE
   Samsung S20: 360x800 CSS pixels
   ======================================== */

/* Base Mobile (default) */
.breadcrumbs {
  padding: 10px 0;
  font-size: 13px;
  overflow-x: auto;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
}

.fluid-tabs {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.fluid-tab {
  padding: 12px 16px;
  font-size: 14px;
  min-height: 44px;
  white-space: nowrap;
}

.nav-cards {
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.nav-card {
  padding: 16px;
}

.nav-card-icon {
  width: 40px;
  height: 40px;
  font-size: 18px;
}

.nav-card-title { font-size: 14px; }
.nav-card-desc { font-size: 12px; }

.sidebar-nav-item {
  min-height: 48px;
  padding: 14px 16px;
}

.pagination-btn {
  min-width: 44px;
  min-height: 44px;
}

.steps-compact {
  overflow-x: auto;
  padding-bottom: 8px;
}

.step-compact-line { width: 24px; }

/* Tablet e Desktop */
@media (min-width: 768px) {
  .breadcrumbs {
    font-size: 14px;
    overflow-x: visible;
  }
  
  .fluid-tab {
    padding: 10px 16px;
    font-size: 14px;
  }
  
  .nav-cards {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
  }
  
  .nav-card { padding: 20px; }
  .nav-card-icon { width: 44px; height: 44px; }
  
  .step-compact-line { width: 40px; }
}
</style>
<scri
pt>
/**
 * IntuitiveNav - Sistema de navega√ß√£o intuitiva
 */
const IntuitiveNav = {
  // ========================================
  // FLUID TABS
  // ========================================
  initFluidTabs() {
    document.querySelectorAll('.fluid-tabs').forEach(container => {
      const tabs = container.querySelectorAll('.fluid-tab');
      let indicator = container.querySelector('.fluid-tab-indicator');
      
      // Criar indicador se n√£o existir
      if (!indicator) {
        indicator = document.createElement('div');
        indicator.className = 'fluid-tab-indicator';
        container.appendChild(indicator);
      }
      
      // Posicionar indicador no tab ativo
      const updateIndicator = (tab) => {
        indicator.style.left = tab.offsetLeft + 'px';
        indicator.style.width = tab.offsetWidth + 'px';
      };
      
      // Inicializar com tab ativo
      const activeTab = container.querySelector('.fluid-tab.active') || tabs[0];
      if (activeTab) {
        activeTab.classList.add('active');
        updateIndicator(activeTab);
      }
      
      // Click handler
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          updateIndicator(tab);
          
          // Evento customizado
          const tabId = tab.dataset.tab;
          container.dispatchEvent(new CustomEvent('tabChange', { detail: { tabId, tab } }));
          
          // Mostrar conte√∫do correspondente
          if (tabId) {
            const tabContents = document.querySelectorAll('[data-tab-content]');
            tabContents.forEach(content => {
              content.style.display = content.dataset.tabContent === tabId ? 'block' : 'none';
            });
          }
        });
      });
      
      // Atualizar no resize
      window.addEventListener('resize', () => {
        const active = container.querySelector('.fluid-tab.active');
        if (active) updateIndicator(active);
      });
    });
  },
  
  // ========================================
  // STEP INDICATOR
  // ========================================
  initSteps() {
    document.querySelectorAll('.steps-compact').forEach(container => {
      container.goToStep = (stepNum) => {
        const steps = container.querySelectorAll('.step-compact');
        steps.forEach((step, i) => {
          step.classList.remove('completed', 'active');
          if (i + 1 < stepNum) {
            step.classList.add('completed');
          } else if (i + 1 === stepNum) {
            step.classList.add('active');
          }
        });
      };
    });
  },
  
  // ========================================
  // SIDEBAR NAVIGATION
  // ========================================
  initSidebarNav() {
    document.querySelectorAll('.sidebar-nav').forEach(nav => {
      nav.querySelectorAll('.sidebar-nav-item').forEach(item => {
        item.addEventListener('click', (e) => {
          // Se for link, deixar comportamento padr√£o
          if (item.href && !item.dataset.prevent) return;
          
          e.preventDefault();
          nav.querySelectorAll('.sidebar-nav-item').forEach(i => i.classList.remove('active'));
          item.classList.add('active');
          
          nav.dispatchEvent(new CustomEvent('navigate', { 
            detail: { id: item.dataset.id, item } 
          }));
        });
      });
    });
  },
  
  // ========================================
  // PAGINATION
  // ========================================
  createPagination(container, options = {}) {
    const { 
      currentPage = 1, 
      totalPages = 1, 
      onPageChange = () => {} 
    } = options;
    
    const renderPagination = (page) => {
      let html = '';
      
      // Bot√£o anterior
      html += `<button class="pagination-btn" ${page <= 1 ? 'disabled' : ''} data-page="${page - 1}">‚Äπ</button>`;
      
      // P√°ginas
      const maxVisible = 5;
      let start = Math.max(1, page - Math.floor(maxVisible / 2));
      let end = Math.min(totalPages, start + maxVisible - 1);
      
      if (end - start < maxVisible - 1) {
        start = Math.max(1, end - maxVisible + 1);
      }
      
      if (start > 1) {
        html += `<button class="pagination-btn" data-page="1">1</button>`;
        if (start > 2) html += `<span class="pagination-info">...</span>`;
      }
      
      for (let i = start; i <= end; i++) {
        html += `<button class="pagination-btn ${i === page ? 'active' : ''}" data-page="${i}">${i}</button>`;
      }
      
      if (end < totalPages) {
        if (end < totalPages - 1) html += `<span class="pagination-info">...</span>`;
        html += `<button class="pagination-btn" data-page="${totalPages}">${totalPages}</button>`;
      }
      
      // Bot√£o pr√≥ximo
      html += `<button class="pagination-btn" ${page >= totalPages ? 'disabled' : ''} data-page="${page + 1}">‚Ä∫</button>`;
      
      container.innerHTML = html;
      
      // Event listeners
      container.querySelectorAll('.pagination-btn[data-page]').forEach(btn => {
        btn.addEventListener('click', () => {
          const newPage = parseInt(btn.dataset.page);
          if (newPage !== page && newPage >= 1 && newPage <= totalPages) {
            renderPagination(newPage);
            onPageChange(newPage);
          }
        });
      });
    };
    
    renderPagination(currentPage);
    
    return {
      goToPage: (page) => renderPagination(page),
      getCurrentPage: () => currentPage
    };
  },
  
  // ========================================
  // BREADCRUMBS
  // ========================================
  updateBreadcrumbs(container, items) {
    container.innerHTML = items.map((item, i) => {
      const isLast = i === items.length - 1;
      return `
        ${i > 0 ? '<span class="breadcrumb-separator">‚Ä∫</span>' : ''}
        <a href="${item.href || '#'}" class="breadcrumb-item ${isLast ? 'current' : ''}"
           ${isLast ? 'aria-current="page"' : ''}>
          ${item.icon ? `<span class="breadcrumb-icon">${item.icon}</span>` : ''}
          ${item.label}
        </a>
      `;
    }).join('');
  },
  
  // ========================================
  // INICIALIZA√á√ÉO
  // ========================================
  init() {
    this.initFluidTabs();
    this.initSteps();
    this.initSidebarNav();
    
    console.log('üß≠ IntuitiveNav inicializado');
  }
};

// Auto-inicializar
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => IntuitiveNav.init());
} else {
  IntuitiveNav.init();
}
</script>